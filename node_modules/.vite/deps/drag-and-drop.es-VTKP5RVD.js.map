{
  "version": 3,
  "sources": ["../../vue-cal/dist/drag-and-drop.es.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n/**\n  * vue-cal v4.3.4\n  * (c) 2022 Antoni Andre <antoniandre.web@gmail.com>\n  * @license MIT\n  */\nlet e = null, t = null, l = { id: null, date: null }, i = false, a = true, n = { el: null, cell: null, timeout: null };\nconst r = { _eid: null, fromVueCal: null, toVueCal: null }, u = class {\n  constructor(e2) {\n    __publicField(this, \"_vuecal\");\n    this._vuecal = e2;\n  }\n  _getEventStart(e2) {\n    const { timeStep: t2, timeCellHeight: l2, timeFrom: i2, utils: a2 } = this._vuecal;\n    let { y: n2 } = a2.cell.getPosition(e2);\n    return n2 -= 1 * e2.dataTransfer.getData(\"cursor-grab-at\"), Math.round(n2 * t2 / parseInt(l2) + i2);\n  }\n  _updateEventStartEnd(e2, t2, l2, i2) {\n    const a2 = 1 * l2.duration || t2.endTimeMinutes - t2.startTimeMinutes;\n    let n2 = Math.max(this._getEventStart(e2), 0);\n    if (this._vuecal.snapToTime) {\n      const e3 = n2 + this._vuecal.snapToTime / 2;\n      n2 = e3 - e3 % this._vuecal.snapToTime;\n    }\n    t2.startTimeMinutes = n2, t2.start = new Date(new Date(i2).setMinutes(n2)), t2.endTimeMinutes = Math.min(n2 + a2, 1440), t2.end = new Date(new Date(i2).setMinutes(t2.endTimeMinutes));\n  }\n  eventDragStart(e2, t2) {\n    if (3 === e2.target.nodeType)\n      return e2.preventDefault();\n    e2.dataTransfer.dropEffect = \"move\", e2.dataTransfer.setData(\"event\", JSON.stringify(t2)), e2.dataTransfer.setData(\"cursor-grab-at\", e2.offsetY);\n    const { clickHoldAnEvent: n2 } = this._vuecal.domEvents;\n    setTimeout(() => {\n      n2._eid = null, clearTimeout(n2.timeoutId), t2.deleting = false;\n    }, 0), this._vuecal.domEvents.dragAnEvent._eid = t2._eid, r._eid = t2._eid, r.fromVueCal = this._vuecal._.uid, t2.dragging = true, setTimeout(() => t2.draggingStatic = true, 0), i = false, l = { id: this._vuecal.view.id, date: this._vuecal.view.startDate }, a = true;\n  }\n  eventDragEnd(e2) {\n    this._vuecal.domEvents.dragAnEvent._eid = null, r._eid = null, e2.dragging = false, e2.draggingStatic = false;\n    const { fromVueCal: t2, toVueCal: n2 } = r;\n    n2 && t2 !== n2 && this._vuecal.utils.event.deleteAnEvent(e2), r.fromVueCal = null, r.toVueCal = null, i && a && l.id && this._vuecal.switchView(l.id, l.date, true);\n  }\n  cellDragEnter(e2, t2, l2) {\n    const i2 = e2.currentTarget;\n    if (!e2.currentTarget.contains(e2.relatedTarget)) {\n      if (i2 === n.el || !i2.className.includes(\"vuecal__cell-content\"))\n        return false;\n      n.el && (n.cell.highlighted = false), n = { el: i2, cell: t2, timeout: clearTimeout(n.timeout) }, t2.highlighted = true, [\"years\", \"year\", \"month\"].includes(this._vuecal.view.id) && (n.timeout = setTimeout(() => this._vuecal.switchToNarrowerView(l2), 2e3));\n    }\n  }\n  cellDragOver(e2, t2, l2, i2) {\n    e2.preventDefault(), t2.highlighted = true, (i2 || 0 === i2) && (t2.highlightedSplit = i2);\n  }\n  cellDragLeave(e2, t2) {\n    e2.preventDefault(), e2.currentTarget.contains(e2.relatedTarget) || (t2.highlightedSplit = false, n.cell === t2 && (clearTimeout(n.timeout), n = { el: null, cell: null, timeout: null }, t2.highlighted = false));\n  }\n  cellDragDrop(e2, t2, l2, i2) {\n    e2.preventDefault(), clearTimeout(n.timeout), n = { el: null, cell: null, timeout: null };\n    const u2 = JSON.parse(e2.dataTransfer.getData(\"event\") || \"{}\");\n    let s, c;\n    if (r.fromVueCal !== this._vuecal._.uid) {\n      const { _eid: e3, start: t3, end: a2, duration: n2, ...r2 } = u2;\n      s = this._vuecal.utils.event.createAnEvent(l2, n2, { ...r2, split: i2 });\n    } else if (s = this._vuecal.view.events.find((e3) => e3._eid === r._eid), s || (s = this._vuecal.mutableEvents.find((e3) => e3._eid === r._eid), c = !!s), !s) {\n      const e3 = u2.endTimeMinutes - u2.startTimeMinutes, { start: t3, end: a2, ...n2 } = u2;\n      s = this._vuecal.utils.event.createAnEvent(l2, e3, { ...n2, split: i2 });\n    }\n    const { start: d, split: o } = s;\n    this._updateEventStartEnd(e2, s, u2, l2), c && this._vuecal.addEventsToView([s]), s.dragging = false, (i2 || 0 === i2) && (s.split = i2), t2.highlighted = false, t2.highlightedSplit = null, a = false, r.toVueCal = this._vuecal._.uid;\n    const v = { event: this._vuecal.cleanupEvent(s), oldDate: d, newDate: s.start, ...(i2 || 0 === i2) && { oldSplit: o, newSplit: i2 }, originalEvent: this._vuecal.cleanupEvent(u2), external: !r.fromVueCal };\n    this._vuecal.$emit(\"event-drop\", v), this._vuecal.$emit(\"event-change\", { event: v.event, originalEvent: v.originalEvent }), setTimeout(() => {\n      r._eid && this.eventDragEnd(s);\n    }, 300);\n  }\n  viewSelectorDragEnter(l2, a2, n2) {\n    l2.currentTarget.contains(l2.relatedTarget) || (n2.highlightedControl = a2, clearTimeout(e), e = setTimeout(() => {\n      if ([\"previous\", \"next\"].includes(a2))\n        this._vuecal[a2](), clearInterval(t), t = setInterval(this._vuecal[a2], 800);\n      else if (\"today\" === a2) {\n        let e2;\n        clearInterval(t), this._vuecal.view.id.includes(\"year\") && (e2 = this._vuecal.enabledViews.filter((e3) => !e3.includes(\"year\"))[0]), this._vuecal.switchView(e2 || this._vuecal.view.id, new Date(new Date().setHours(0, 0, 0, 0)), true);\n      } else\n        this._vuecal.switchView(a2, null, true);\n      i = true;\n    }, 800));\n  }\n  viewSelectorDragLeave(l2, i2, a2) {\n    l2.currentTarget.contains(l2.relatedTarget) || a2.highlightedControl === i2 && (a2.highlightedControl = null, e && (e = clearTimeout(e)), t && (t = clearInterval(t)));\n  }\n};\nexport { u as DragAndDrop };\n"],
  "mappings": "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",
  "names": []
}
